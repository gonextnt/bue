<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script defer src="js/vue.js"></script>
    <script defer src="js/main.js"></script>
    <title>Notes</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
<div id="app">
    <h1 class="app-title">Заметки</h1>

    <div class="add-card-form">
        <h2>Добавить новую карточку</h2>

        <div class="form-group">
            <label for="card-title">Название заметки:</label>
            <input
                    type="text"
                    id="card-title"
                    v-model="newCardTitle"
                    placeholder="Введите название"
                    class="input-field"
            >
        </div>

        <div class="form-group">
            <label>Пункты списка:</label>
            <div v-for="(item, index) in newCardItems" :key="index" class="item-row">
                <input
                        type="text"
                        v-model="newCardItems[index]"
                        :placeholder="'Пункт ' + (index + 1)"
                        class="input-field item-input"
                >
                <button
                        type="button"
                        @click="removeItem(index)"
                        class="remove-btn"
                >
                    &times;
                </button>
            </div>

            <button
                    type="button"
                    @click="addItem"
                    class="add-item-btn"
                    :disabled="newCardItems.length >= 5"
            >
                + Добавить пункт
            </button>

            <div v-if="formErrors.length" class="error-messages">
                <p>Ошибка:</p>
                <p v-for="error in formErrors">{{ error }}</p>
            </div>


        </div>

        <button @click="createCard" class="create-card-btn">Создать карточку</button>
    </div>

    <div class="columns">
        <div class="column">
            <h2>Столбец 1</h2>
            <div
                    v-for="card in column1Cards"
                    :key="card.id"
                    class="card"
            >
                <h3>{{ card.title }}</h3>
                <ul class="card-items">
                    <li
                            v-for="(item, index) in card.items"
                            :key="index"
                            :class="{ 'completed': item.completed }"
                            @click="toggleItem(card, item)"
                            :style="{ cursor: item.completed ? 'default' : 'pointer' }"
                    >
                        {{ item.text }}
                    </li>
                </ul>
            </div>
        </div>

        <div class="column">
            <h2>Столбец 2</h2>
            <div
                    v-for="card in column2Cards"
                    :key="card.id"
                    class="card"
            >
                <h3>{{ card.title }}</h3>
                <ul class="card-items">
                    <li
                            v-for="(item, index) in card.items"
                            :key="index"
                            :class="{ 'completed': item.completed }"
                            @click="toggleItem(card, item)"
                            :style="{ cursor: item.completed ? 'default' : 'pointer' }"
                    >
                        {{ item.text }}
                    </li>
                </ul>
            </div>
        </div>

        <div class="column">
            <h2>Столбец 3</h2>
            <div
                    v-for="card in column3Cards"
                    :key="card.id"
                    class="card"
            >
                <h3>{{ card.title }}</h3>
                <ul class="card-items">
                    <li
                            v-for="(item, index) in card.items"
                            :key="index"
                            :class="{ 'completed': item.completed }"
                            @click="toggleItem(card, item)"
                            :style="{ cursor: item.completed ? 'default' : 'pointer' }"
                    >
                        {{ item.text }}
                    </li>
                </ul>
                <p v-if="card.completedAt" class="completed-date">
                    Завершено: {{card.completedAt}}
                </p>
            </div>
        </div>
    </div>
</div>
</body>
</html>